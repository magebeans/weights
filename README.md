# üèãÔ∏è Workout Tracker SPA

A simple single-page app for tracking resistance training workouts using Supabase for authentication and storage. Built with plain HTML, JavaScript, and zero build tooling.

---

## üìÅ Project Layout

```
.
‚îú‚îÄ‚îÄ index.html        # Entry point HTML, loads all styles and JS
‚îú‚îÄ‚îÄ config.js         # Exports Supabase project credentials
‚îú‚îÄ‚îÄ main.js           # App logic: auth, session, form, save
‚îî‚îÄ‚îÄ .github/pages     # (Optional) for GitHub Pages deployment
```

---

## ‚úÖ Features

- **Supabase Auth** with email/password login (no self-signup/reset)
- **Session-aware UI**: auto login/logout, day tracking
- **Five exercises**: GS, PU, DR, RD, PL
  - 3 sets each
  - Inputs for reps and notes
  - Weight input excluded for PU and PL
- **Dirty tracking + auto-save**
  - Orange = dirty
  - Blue = saving
  - Green = saved
- **Date navigation** with Prev/Next buttons
- **Light/Dark theme toggle** (saved in `localStorage`)
- **Fully responsive**, mobile-friendly
- **Guest mode support** (optional, via shared login)

---

## ‚öôÔ∏è Setup Instructions

1. **Provision Supabase**
   - Create a project at https://supabase.com/
   - Add a `workouts` table with the following schema:
     ```sql
     CREATE TABLE workouts (
       id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
       user_id UUID NOT NULL DEFAULT auth.uid(),
       date DATE NOT NULL,
       exercise_id TEXT NOT NULL,
       set_num INT NOT NULL,
       reps NUMERIC,
       weight NUMERIC,
       notes TEXT,
       created_at TIMESTAMPTZ DEFAULT now(),
       updated_at TIMESTAMPTZ DEFAULT now()
     );

     ALTER TABLE workouts
     ADD CONSTRAINT unique_set_per_day
     UNIQUE (user_id, date, exercise_id, set_num);
     ```

2. **Enable RLS (Row-Level Security) and Policies**
   ```sql
   -- Allow select
   CREATE POLICY "User can read own data"
   ON workouts FOR SELECT
   USING (auth.uid() = user_id);

   -- Allow insert
   CREATE POLICY "User can insert own data"
   ON workouts FOR INSERT
   WITH CHECK (auth.uid() = user_id);

   -- Allow update
   CREATE POLICY "User can update own data"
   ON workouts FOR UPDATE
   USING (auth.uid() = user_id);
   ```

3. **Create `config.js` in the repo root**
   ```js
   export const SUPABASE_URL = 'https://your-project.supabase.co';
   export const SUPABASE_ANON_KEY = 'your-anon-key';
   ```

4. **Deploy with GitHub Pages**
   - Push your repo with `index.html`, `main.js`, and `config.js`
   - Enable GitHub Pages under repo settings ‚Üí Pages ‚Üí root or `docs/` folder

---

## üß† How It Works

- `index.html` loads config and `main.js` via a `<script type="module">` block
- `main.js`:
  - Reads config and initializes Supabase client
  - Checks for active session
  - Renders the tracker form
  - Tracks edits and auto-saves dirty fields
- No build step, everything runs client-side

---

## üöß Possible Next Steps

- [ ] Add a date picker or jump-to-date field
- [ ] Export workout history to CSV
- [ ] Support per-user preferences
- [ ] Use Supabase Edge Functions for guest cleanup or backups
- [ ] Modularize JS into auth.js, ui.js, storage.js, etc.
- [ ] Add timer between sets

---

## üìù License

MIT ‚Äî use it, fork it, break a sweat. üí™
